{% extends 'generic/base/dashboard.html' %}
{% load static %}

{% block navbar %}
    <nav class="navbar navbar-expand-lg navbar-light bg-primary border-bottom">
        <button class="btn btn-light text-black" id="menu-toggle">
            <i class="fas fa-align-justify"></i>
        </button>
        <ul class="navbar-nav">
            <li class="nav-item">
                <a href="{% url 'browse_events'  %}" class="nav-link text-white">
                    <i class="fas fa-arrow-left"></i>
                </a>
            </li>
        </ul>
        <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
            <li class="nav-item active">
                <a href="{% url 'logout' %}" class="nav-link text-white">Logout</a>
            </li>
        </ul>
    </nav>
{% endblock %}

{% block content %}
    <div class="bg-white container-fluid border rounded p-3 mb-3" style="min-height: 290px;">
        {% if event.image %}
            <img class="float-left border rounded mr-3" src="{{ event.image.url }}"
                 style="height:250px; width: 250px;" alt="image">
        {% else %}
            <img class="float-left border rounded mr-3" src="{% static 'img/website/logo.png' %}"
                 style="height:250px; width: 250px;" alt="image">
        {% endif %}
        <div class="overflow-auto">
            <h1 class="h1">{{ event.title }}</h1>
            <p><b>Descrição - </b>{{ event.description }}</p>
            <p><b>Início - </b> {{ event.start }} </p>
            <p><b>Fim - </b> {{ event.end }} </p>
            <p><b>Região - </b> {{ event.location }}</p>
            <p><b>Morada - </b> {{ event.address }} </p>
            <b>Público alvo:</b><ul style="list-style-position: inside; padding-left: 0"> {% for age in event.age_range.all %} <li> {{ age }} </li>{% endfor %}</ul>
            <b>Áreas abrangidas:</b><ul style="list-style-position: inside; padding-left: 0"> {% for type in event.organisation_type.all %} <li> {{ type }} </li>{% endfor %}</ul>
        </div>
    </div>
    {% if not event in profile.events.all %}
        <a class="btn btn-primary float-right" href="{% url 'attend_event' id=event.id %}">Criar reserva</a>
    {% else %}
        <a class="btn btn-danger float-right" href="{% url 'unattend_event' id=event.id %}">Desmarcar reserva</a>
    {% endif %}
{% endblock %}